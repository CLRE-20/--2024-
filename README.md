# 2024 地震斷電系統 - 專題製作

本專題旨在開發一套地震斷電系統，利用現代物聯網技術，實現快速反應與智能化控制。本系統由手機應用程式、控制面板、ESP8266 開發板及 MQTT 通訊協議共同組成，實現了高效、穩定的地震警報與自動斷電功能。

---

## 目錄

1. [手機 App](#手機-app)  
2. [控制面板](#控制面板)  
3. [ESP8266 開發板](#esp8266-開發板)  
4. [MQTT 通訊](#mqtt-通訊)

---

### 手機 App

**手機應用程式負責提供用戶操作介面，整合系統功能並實現人機互動。**

#### 技術細節
1. 使用 **Android Studio** 開發，提供高效能且易於維護的 Android 應用。  
   [下載 Android Studio](https://developer.android.com/studio?hl=zh-tw)  
2. 透過 **WebView** 嵌入控制面板，使得用戶能在 App 中直接操作系統功能。
3. 支援返回鍵與網站的交互操作，提升用戶體驗與流暢性。

#### 功能
- 實時監控地震警報與電力狀態。
- 通過 MQTT 協議遠程操控斷電系統。
- 提供用戶警報歷史記錄查詢功能。

---

### 控制面板

**控制面板為本系統的核心邏輯處理模組，負責數據管理與前後端交互。**

#### 運行環境
- 開發語言： **Python**  
- 優勢：簡單、易用且適合處理 MQTT 通訊和資料處理。

#### 必要 Python 套件
1. **Flask** - 用於構建後端伺服器。
2. **Flask-Login** - 實現用戶身份驗證功能。
3. **Flask-SQLAlchemy** - 管理數據庫操作。
4. **Paho-MQTT** - 負責 MQTT 通訊。

#### 功能特點
- 支援實時顯示地震數據與系統狀態。
- 使用 Web 界面進行系統設置及操作。
- 結合 MQTT 實現數據發布與接收。

---

### ESP8266 開發板

**ESP8266 作為本系統的硬體核心，負責感測器數據的收集與通信模組的控制。**

#### 功能
1. 通過接收地震感測器數據進行分析。
2. 發出指令至控制面板，觸發相關操作。
3. 與 MQTT 伺服器進行實時通信，保證系統的穩定性與同步性。

#### 技術實現
- 使用 Arduino 開發環境進行程式設計。
- 配置 WiFi 功能，實現高效的無線數據傳輸。

---

### MQTT 通訊

**MQTT 為本系統的通訊骨幹，負責數據的高效傳遞與消息發布。**

#### MQTT 伺服器
1. **運行環境**  
   - 使用 **JavaScript** 建立 MQTT 伺服器。  
   - 選用輕量級的 MQTT Broker（如 Mosquitto 或 EMQX）。  

2. **功能**  
   - 負責消息的接收與分發，保證系統模塊的數據同步。

#### MQTT 客戶端
1. **運行環境**  
   - 使用 **Python** 開發，結合控制面板進行操作。  

2. **功能**  
   - 接收地震感測器數據，並發布到伺服器。
   - 確保與 ESP8266 及控制面板的實時通信。

---

## 總結

本專題整合了多種技術模組，從手機 App 的開發、硬體模組的運作到通訊協議的應用，形成一套完整的地震斷電解決方案。此系統具備良好的拓展性與穩定性，適用於地震頻發地區的智能化電力管理與安全保障。
